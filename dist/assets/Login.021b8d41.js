import{d as y,a as E,s as k,n as p,r,b as I,c as V,e as s,f as t,u,G as c,C as m,B as f,H as w,_ as A,v as W}from"./index.f881c86f.js";import{u as S,a as z,b as T}from"./useHooks.bcd370d1.js";import"./_commonjsHelpers.dffb1198.js";const N={class:"flex flex-column w-screen h-screen ra-bg"},q={class:"flex-grow-1 flex justify-content-center align-items-center"},L={class:"ra-layout flex flex-column"},P={class:"px-4 pt-4 pb-3 border-bottom-1 border-100"},R={class:"field flex flex-column m-4"},H=s("label",{class:"font-semibold"},[f("\u7BA1\u7406\u8005ID"),s("span",{class:"text-red-300"},"*")],-1),U={class:"p-inputgroup"},j=s("span",{class:"p-inputgroup-addon"},[s("i",{class:"pi pi-user"})],-1),G=s("label",{class:"font-semibold mt-2"},[f("\u30D1\u30B9\u30EF\u30FC\u30C9"),s("span",{class:"text-red-300"},"*")],-1),M={class:"p-inputgroup"},O=s("span",{class:"p-inputgroup-addon"},[s("i",{class:"pi pi-lock"})],-1),$={class:"mx-4 mb-4"},J=w('<div class="flex flex-column px-4 pb-5 pt-2 border-top-1 border-100"><div><span class="mr-2 text-primary"><i class="pi pi-lock-open" style="font-size:0.5rem;"></i></span><small class="font-medium">\u30B2\u30B9\u30C8\u306F\u3053\u306E\u307E\u307E\u30ED\u30B0\u30A4\u30F3\u3057\u3066\u304F\u3060\u3055\u3044</small></div><div><span class="mr-2 text-primary"><i class="pi pi-clock" style="font-size:0.5rem;"></i></span><small>sessionStorage\u3067\u767B\u9332\u60C5\u5831\u3092\u4FDD\u5B58\u3057\u307E\u3059</small></div><div><span class="mr-2 text-orange-400"><i class="pi pi-question-circle" style="font-size:0.5rem;"></i></span><small> \u30ED\u30B0\u30A4\u30F3\u554F\u984C\uFF1F <span class="underline font-medium"><a href="https://github.com/kensoz">\u3053\u3053</a></span> \u307E\u3067\u3054\u9023\u7D61\u304F\u3060\u3055\u3044 </small></div><div><span class="mr-2 text-bluegray-700"><i class="pi pi-github" style="font-size:0.5rem;"></i></span><small> &quot; Talk is cheap. Show me the <span class="underline font-medium"><a href="https://github.com/kensoz/Rrea-admin">Code</a></span> . &quot; </small></div></div>',1),Z=y({name:"Login",setup(K){const _=E(()=>A(()=>import("./Footer.dcdb7eed.js"),["assets/Footer.dcdb7eed.js","assets/index.f881c86f.js","assets/index.0e688f3c.css"])),{errorToast:v,encrypt:g}=S(),x=z(),{isDark:F,admin:e}=k(x),{saveLoginStorage:b}=T();let o=p(!1),l=p(!1);const h=async n=>{n.passWord=await g(n.passWord),await W.post("/api/v1/auth",n).then(a=>{a.data.code===10001?b(a.data.result):a.data.code===10002?o.value=!0:l.value=!0}).catch(()=>{v()})},B=()=>{e.value.id==="admin"||e.value.id==="master"||e.value.id==="guest"?e.value.passWord!==""&&e.value.passWord!==void 0?h({id:e.value.id,passWord:e.value.passWord}):l.value=!0:o.value=!0};return(n,a)=>{const C=r("Image"),d=r("InputText"),D=r("Button");return I(),V("section",N,[s("div",q,[s("div",L,[s("div",P,[t(C,{src:u(F)?"/logo-dark.png":"/logo.png",alt:"Iogo",width:"170"},null,8,["src"])]),s("div",R,[H,s("div",U,[j,t(d,{modelValue:u(e).id,"onUpdate:modelValue":a[0]||(a[0]=i=>u(e).id=i),class:"p-inputtext-sm w-15rem",type:"text"},null,8,["modelValue"])]),s("small",{class:c({"p-error":u(o)})},m(u(o)?"\u7121\u52B9\u306A\u7BA1\u7406\u8005ID":"\u7BA1\u7406\u8005ID\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"),3),G,s("div",M,[O,t(d,{modelValue:u(e).passWord,"onUpdate:modelValue":a[1]||(a[1]=i=>u(e).passWord=i),class:"w-15rem",type:"password"},null,8,["modelValue"])]),s("small",{class:c({"p-error":u(l)})},m(u(l)?"\u7121\u52B9\u306A\u30D1\u30B9\u30EF\u30FC\u30C9":"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\uFF08guest\uFF09"),3)]),s("div",$,[t(D,{label:"\u30ED\u30B0\u30A4\u30F3",class:"p-button-sm w-full",disabled:u(e).passWord===""||u(e).id==="",onClick:a[2]||(a[2]=i=>B())},null,8,["disabled"])]),J])]),t(u(_))])}}});export{Z as default};
